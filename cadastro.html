<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="icon" href="assets/img/icon_Onficina.png">
        <title>SULTS: Solicitar avaliação gratuita</title>
        <style>

* {
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}
            /*================================================
                    CADASTRO
=================================================*/

/* Left side - Forms */
.general-container {
  width: 100%;
  height: 493.33px;
  max-width: 750px;
  background: #fbfdfe;
  border-radius: 8px;
  box-shadow: 0px 0px 15px 1px rgba(113, 106, 202, 0.2);
  overflow: hidden;
  display: grid;
  z-index: 1000;
}

.form-container {
  display: flex;
  align-items: center;
  background: #fbfdfe;
  max-width: 437.5px;
  padding: 48px 40px 36px;
  border-radius: 10px;
}

.form-contact {
  height: 100%;
  width: 100%;
}

.form-group {
  width: 357.500px;
  height: 62px;
  margin-bottom: 1rem;
  position: relative;
}

.form-group input {
  width: 100%;
  height: calc(2.25rem + 2px);
  border: 1px solid #e7f0f6;
  padding: 0.375rem 0.75rem;
  box-sizing: border-box;
  border-radius: 0.25rem;
  outline: none;
  font-size: 1rem;  
}

.form-group label {
  font-size: 15px;
  font-weight: 500;
}

.form-group input:focus {
  box-shadow: 0px 0px 0px 3px #B6D6F2;
  border: 1px solid #7EBCF2; 
}

.form-group input::placeholder {
  color: #c3c8cb; 
  font-size: 14px;
}

.class-label {
  color: #41494f;
}

.title {
  color: #3a3a3a; 
  font-size: 22px;
  height: 29.33px;
  margin: 16px 0;
  line-height: 1.3333;
  font-weight:600;
}
.continue-button {
  display: flex;
  justify-content: flex-end;
}

.btn {
  position: relative;
  background: #4157FF;
  padding: 0.5rem 1.25rem;
  cursor: pointer;
  border-radius: 0.25rem;
  border: 1px solid transparent;
  text-transform: uppercase;
  color: white;
  font-size: .75rem;
  font-weight: 700;
  line-height: 1.5;
  letter-spacing: 1.15px;
}

.continue-button button:focus {
  box-shadow: 0px 0px 0px 3px #B6D6F2;
}


.main-cadastro {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color:#4157FF;
}	

.style-form-warnin {
  width: 94.5%;
  background: rgb(255, 154, 68);
  color: white;
  padding: 10px;
  border-radius: 3px;
  margin-bottom: 10px;
}
        </style>
    </head>
    <body>
        <main class="main-cadastro">
            <div class="form-container">
                <form class="form-contact" name="form-contact" id="id-form-contact">
                    <p class="title">Cadastre sua empresa</p>
                    <div class="form-group">
                        <label class="class-label">Nome:</label>
                        <input type="text" name="name" id="name" placeholder="Digite seu nome..." />
                    </div>
                    <div class="form-group">
                        <label class="class-label">Empresa:</label>
                        <input type="text" name="company" id="company" placeholder="Digite sua empresa..." />
                    </div>
                    <div class="form-group">
                        <label class="class-label">Email:</label>
                        <input type="email" name="email" id="email" placeholder="Digite seu email..." />
                    </div>
                    <div class="form-group">
                        <label class="class-label">Celular:</label>
                        <input type="text" name="phone" id="phone" placeholder="Digite seu Celular..." />
                    </div>
                    <div id="form-warning-wrapper" class="style-form-warnin" style="display: none;">
                        <div>
                            <div id="form-warning-message"></div>
                        </div>
                    </div>
                    <div class="continue-button">
                        <button type="submit" class="btn">Continuar</button>
                    </div>
                </form>
            </div>
        </main>
        <script>
            const form = document.querySelector("form");

            form.addEventListener("submit", function(event) {
                event.preventDefault();
                let dadosValidos = checkInputDados();

                if(dadosValidos) {
                    window.location.href = "continue-page.html";
                }
            });

            let username = document.getElementById("name");
            let company = document.getElementById("company");
            let emaill = document.getElementById("email");
            let phonee = document.getElementById("phone");
            let warning = document.getElementById("form-warning-wrapper");
            let p = warning.querySelector("#form-warning-message");

            username.addEventListener("input", function() { warning.style.display = 'none'; });
            company.addEventListener("input", function() { warning.style.display = 'none'; });
            emaill.addEventListener("input", function() { warning.style.display = 'none'; });
            phonee.addEventListener("input", function() { warning.style.display = 'none'; });

            /* Data validation */
            function checkInputDados() {
                let usernameValue = username.value;
                let companyValue = company.value;
                let emailValue = emaill.value;
                let phoneValue = phonee.value;

                if (usernameValue === "") {
                    p.innerText = 'Informe o seu nome';
                    warning.style.display = 'block';
                    return false;
                } else if (companyValue === "") {
                    p.innerText = 'Informe a sua empresa';
                    warning.style.display = 'block';
                    return false;
                } else if ((emailValue === "") || (!checkInputEmail(emailValue) && (emailValue != "") )) {
                    p.innerText = 'Informe um email válido';
                    warning.style.display = 'block';
                    return false;
                } else if (phoneValue === "") {
                    p.innerText = 'Informe o seu telefone';
                    warning.style.display = 'block';
                    return false;
                } else {
                    warning.style.display = 'none';
                    return true;
                }
            }

            /* Email validation */
            const email = document.getElementById("email");

            email.addEventListener("keyup", function() {
                checkInputEmail();
            });

            function checkInputEmail() {
                const emailValue = email.value;
                const emailPattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                const formItem = email.parentElement;

                if (!emailPattern.test(emailValue) && emailValue != "") {
                    errorInput(email, "Please enter a valid email address.");
                    return false;
                } else {
                    formItem.className = "form-group";
                    return true;
                }
            }

            function errorInput(input, message) {
                const formItem = input.parentElement;
                const textMessage = formItem.querySelector("a")

                textMessage.innerText = message;
                formItem.className = "form-group error";
            }

            /* Phone mask */
            let phone = document.getElementById("phone");

            phone.addEventListener("input", function () {
                let clearValue = phone.value.replace(/\D/g, "").substring(0, 11);

                if (clearValue.length < 3) {
                    clearValue = clearValue;
                } else if (clearValue.length < 7) {
                    clearValue = `(${clearValue.substring(0, 2)}) ${clearValue.substring(2)}`;
                } else {
                    clearValue = `(${clearValue.substring(0, 2)}) ${clearValue.substring(2, 6)}-${clearValue.substring(6)}`;
                }

                phone.value = clearValue;
            });
        </script>
    </body>
    </html>